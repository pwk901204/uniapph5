(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pay_all-pay_all"],{3249:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("a34a")),o=i("890c");function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,a,o,n,r){try{var s=t[n](r),l=s.value}catch(d){return void i(d)}s.done?e(l):Promise.resolve(l).then(a,o)}function s(t){return function(){var e=this,i=arguments;return new Promise(function(a,o){var n=t.apply(e,i);function s(t){r(n,a,o,s,l,"next",t)}function l(t){r(n,a,o,s,l,"throw",t)}s(void 0)})}}var l={data:function(){return{items:[{name:"微信支付",icon_url:o.BASE_IMAGE_URL+"weixin_pay.png"}],currentIndex:0,allMoney:0,getQuotationsData:{compulsory:0,tax:0},insurer:"",biz_id:"",showWaitModal:!1,applyUnderwriteRaceEnd:!1,errorMsg:"",showModal:!1}},methods:{hideModal:function(){this.showModal=!1},hideWaitModal:function(){this.showWaitModal=!1},next:function(){wx.navigateTo({url:"../pay_two/pay_two"})},getQuotations:function(){var t=s(a.default.mark(function t(){var e;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.getQuotations)(this.quotation_id);case 2:e=t.sent,200==e.code&&(this.getQuotationsData=e.data,this.allMoney=parseInt(e.data.compulsory)+parseInt(e.data.tax));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getExactQoute:function(){var t=s(a.default.mark(function t(){var e,i,n;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.getQuotationsData,i={license_no:e.license_no,response_no:e.response_no,brand_code:e.brand_code,bi_begin_date:e.bi_begin_date,ci_begin_date:e.ci_start_date,city_code:e.city,first_reg_date:e.first_reg_date,frame_no:e.vin,engine_no:e.engine_no,owner_id:e.idcard,owner_name:e.name,owner_mobile:e.mobile,coverage_list:[{coverageCode:"FORCEPREMIUM",coverageName:"交强险",insuredAmount:"Y",flag:null}]},t.next=4,(0,o.getExactQoute)(i);case 4:n=t.sent,200==n.code?(this.insurer=n.data.data[0].insurerCode,this.biz_id=n.data.data[0].bizID,this.syncBizId()):(this.errorMsg="仍报价失败，请稍后重试。",this.showWaitModal=!0);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),syncBizId:function(){var t=s(a.default.mark(function t(){var e;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.syncBizId)({quotation_id:this.quotation_id,biz_id:this.biz_id});case 2:e=t.sent,200==e.code?this.applyUnderwriteRace():uni.showToast({icon:"none",title:e.msg,duration:1e3});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),applyUnderwriteRace:function(){var t=this;this.applyUnderwriteRaceEnd=!1;var e=new Promise(function(e){setTimeout(function(){t.applyUnderwriteRaceEnd||(t.errorMsg="核保中，稍后有客服人员与您联系，请耐心等候",t.showWaitModal=!0),t.applyUnderwriteRaceEnd=!0,e()},3e4)});Promise.race([e,this.applyUnderwrite()])},applyUnderwrite:function(){var t=s(a.default.mark(function t(){var e,i;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={insurer:this.insurer,biz_id:this.biz_id,channel_code:"QUANLIAN_PROXY_INSURE",address_name:this.getQuotationsData.name,address_mobile:this.getQuotationsData.mobile,address_details:"老三届首座大厦30层",address_county:"610100",address_city:"610100",address_province:"610000",policy_email:"cxt8860@126.com"},t.next=3,(0,o.applyUnderwrite)(e);case 3:if(i=t.sent,!this.applyUnderwriteRaceEnd){t.next=6;break}return t.abrupt("return");case 6:this.applyUnderwriteRaceEnd=!0,200==i.code&&"1"==i.data.state&&"0"==i.data.data.synchFlag?(this.showModal=!0,location.href=i.data.data.payLink):200==i.code&&"1"==i.data.state&&"1"==i.data.data.synchFlag?(this.errorMsg="核保中，稍后有客服人员与您联系，请耐心等候",this.showWaitModal=!0):(this.errorMsg="核保失败",this.showWaitModal=!0);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),pay:function(){var t=s(a.default.mark(function t(){return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.getExactQoute();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getQueryString:function(t){var e=new RegExp("[?&]"+t+"=([^&#]*)","i"),i=window.location.href.match(e);return i&&i.length>1?decodeURIComponent(i[1]):""}},onLoad:function(){this.global=wx.getStorageSync("global"),this.quotation_id=this.getQueryString("quotation_id"),this.quotation_id||(this.global.quotation_id?this.quotation_id=this.global.quotation_id:this.quotation_id=this.$root.$mp.query.quotation_id);var t=uni.getStorageSync("openid");t||(t=this.$root.$mp.query.openid,t&&uni.setStorageSync("openid",t)),this.getQuotations()}};e.default=l},4173:function(t,e,i){"use strict";var a=i("6d10"),o=i.n(a);o.a},5565:function(t,e,i){"use strict";i.r(e);var a=i("eef9"),o=i("bee0");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("4173");var r=i("2877"),s=Object(r["a"])(o["default"],a["a"],a["b"],!1,null,"66a87f2c",null);e["default"]=s.exports},"6d10":function(t,e,i){var a=i("e75d");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("0f541cab",a,!0,{sourceMap:!1,shadowMode:!1})},bee0:function(t,e,i){"use strict";i.r(e);var a=i("3249"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=o.a},e75d:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"body[data-v-66a87f2c],uni-page-body[data-v-66a87f2c]{background-color:#f9f9f9;height:100%}.container_wrap[data-v-66a87f2c]{background-color:#f9f9f9;height:100%;width:100%}.bottom_info[data-v-66a87f2c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;font-size:%?28?%;color:rgba(0,0,0,.4);margin:%?14?% %?40?%}.bottom_info .star[data-v-66a87f2c]{color:red;margin-right:%?8?%}.input_wrap[data-v-66a87f2c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:%?0?% %?40?% %?20?%}.input_wrap .input_info[data-v-66a87f2c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding-top:%?30?%}.info[data-v-66a87f2c]{font-size:%?28?%;color:rgba(7,7,7,.4);padding:%?30?% %?40?% %?10?%}.wrap[data-v-66a87f2c]{background-color:#fff}.item_wrap[data-v-66a87f2c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;background-color:#fff;padding:%?30?% %?40?%;border-bottom:1px solid #f2f2f2}.item_wrap .item_text[data-v-66a87f2c]{font-size:%?28?%;color:#000}.item_wrap .item_info[data-v-66a87f2c]{font-size:%?28?%;color:#6e6e6e}.item_wrap .item_title[data-v-66a87f2c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.item_wrap .item_service[data-v-66a87f2c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:%?24?%;color:#6e6e6e}.item_wrap .item_service img[data-v-66a87f2c]{width:%?26?%;height:%?26?%;margin-right:%?4?%}.item_right[data-v-66a87f2c]{font-size:%?28?%;color:#6e6e6e}.info_title[data-v-66a87f2c]{color:rgba(0,0,0,.7);font-size:%?34?%;background-color:#f9f9f9;height:%?108?%;border-bottom:1px solid #f2f2f2;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding-left:%?40?%;-webkit-box-sizing:border-box;box-sizing:border-box}.info_title .circle[data-v-66a87f2c]{border-radius:50%;width:%?32?%;height:%?32?%;text-align:center;line-height:%?32?%;background-color:rgba(0,0,0,.1);color:#fff;font-size:%?28?%;margin-right:%?8?%}.info_title .active[data-v-66a87f2c]{background-color:#427dff!important}.info_title .line[data-v-66a87f2c]{width:%?40?%;height:%?2?%;background-color:#d6d6d6;margin-right:%?12?%}.content_wrap[data-v-66a87f2c]{width:90%;margin:%?-180?% 5% %?0?%;height:%?332?%;background-color:#fff;border-radius:%?20?%;-webkit-box-shadow:%?0?% %?0?% %?20?% %?0?% #eaeaea;box-shadow:%?0?% %?0?% %?20?% %?0?% #eaeaea;padding:%?0?% %?16?%;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;z-index:1}.content_item[data-v-66a87f2c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#000;font-size:%?34?%;height:%?166?%;padding:%?0?% %?24?%}.content_item .text[data-v-66a87f2c]{color:#427dff;font-size:%?24?%}.row_item[data-v-66a87f2c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.arraw[data-v-66a87f2c]{width:%?18?%;height:%?18?%;border-top:%?6?% solid #d9d9d9;border-right:%?6?% solid #d9d9d9;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);margin-left:%?10?%}.place-holder[data-v-66a87f2c]{font-size:%?28?%;color:#b2b2b2}.button[data-v-66a87f2c]{margin:%?40?% 5%;width:90%;height:%?94?%;line-height:%?94?%;color:#fff;background-color:#427dff;border-radius:%?10?%;text-align:center;position:absolute;bottom:%?0?%}.bottom_wrap[data-v-66a87f2c]{width:100%;position:fixed;bottom:%?0?%;left:%?0?%;border-top:1px solid #ccc;height:%?120?%;line-height:%?120?%;color:#000;font-size:%?28?%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.bottom_wrap .bottom_left[data-v-66a87f2c]{padding-left:%?44?%;-webkit-box-flex:2;-webkit-flex:2;-ms-flex:2;flex:2}.bottom_wrap .bottom_right[data-v-66a87f2c]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;background-color:#427dff;color:#fff;font-size:%?30?%;text-align:center}.bottom_wrap .bottom_money[data-v-66a87f2c]{color:red;margin-left:%?8?%}uni-radio-group[data-v-66a87f2c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.radio_wrap[data-v-66a87f2c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.radio_wrap img[data-v-66a87f2c]{width:%?32?%;height:%?32?%;margin-right:%?10?%}.modal-mask[data-v-66a87f2c]{width:100%;height:100%;position:fixed;top:0;left:0;background:#000;opacity:.5;overflow:hidden;z-index:9000;color:#fff}.modal-dialog[data-v-66a87f2c]{width:80%;overflow:hidden;position:fixed;top:15%;left:0;z-index:9999;background:#fff;margin:10%;border-radius:%?12?%}.modal-title[data-v-66a87f2c]{padding-top:%?50?%;font-size:%?36?%;color:#000;font-weight:700;text-align:center}.modal-content[data-v-66a87f2c]{padding:%?40?% %?52?%;font-size:%?28?%;color:rgba(0,0,0,.6)}.modal-footer[data-v-66a87f2c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;font-size:%?34?%}.btn_wrap[data-v-66a87f2c]{width:80%;height:%?94?%;margin:%?20?% 10%;background:#427dff;border-radius:%?12?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#fff}.btn_wrap img[data-v-66a87f2c]{width:%?44?%;height:%?44?%;margin-right:%?12?%}.btn_wrap span[data-v-66a87f2c]{font-size:%?34?%}.btn_hover[data-v-66a87f2c]{background:#00f}.modal_head_img[data-v-66a87f2c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:%?68?%}body.?%PAGE?%[data-v-66a87f2c]{background-color:#f9f9f9}",""])},eef9:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container_wrap container-fill"},[i("div",{staticClass:"wrap"},[t._m(0),i("div",{staticClass:"item_wrap"},[i("span",{staticClass:"item_text"},[t._v("交强险：")]),i("span",{staticClass:"item_right"},[t._v(t._s(t.getQuotationsData.compulsory)+"元")])]),i("div",{staticClass:"item_wrap"},[i("span",{staticClass:"item_text"},[t._v("车船税：")]),i("span",{staticClass:"item_right"},[t._v(t._s(t.getQuotationsData.tax)+"元")])])]),i("div",{staticClass:"info"},[t._v("支付方式")]),i("v-uni-radio-group",{on:{change:function(e){e=t.$handleEvent(e),t.radioChange(e)}}},t._l(t.items,function(e,a){return i("v-uni-label",{key:a,staticClass:"item_wrap"},[i("v-uni-view",{staticClass:"radio_wrap"},[i("img",{attrs:{src:e.icon_url}}),i("span",{staticClass:"price"},[t._v(t._s(e.name))])]),i("v-uni-view",[i("v-uni-radio",{attrs:{checked:"",color:"#427DFF"}})],1)],1)}),1),t._m(1),i("div",{staticClass:"bottom_wrap"},[i("div",{staticClass:"bottom_left"},[i("span",[t._v("实付")]),i("span",{staticClass:"bottom_money"},[t._v("¥"+t._s(t.allMoney))])]),i("span",{staticClass:"bottom_right",on:{click:function(e){e=t.$handleEvent(e),t.pay(e)}}},[t._v("立即支付")])]),t.showWaitModal?i("div",{staticClass:"modal-mask",on:{click:function(e){e=t.$handleEvent(e),t.hideWaitModal(e)}}}):t._e(),t.showWaitModal?i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal_head_img"},[i("v-uni-image",{staticStyle:{width:"68upx"},attrs:{src:"../../static/img/he_bao_icon.png",mode:"widthFix"}})],1),i("div",{staticClass:"modal-title",staticStyle:{padding:"20upx 20upx 0 20upx","margin-bottom":"60upx"}},[t._v(t._s(t.errorMsg))]),i("div",{staticClass:"modal-footer"},[i("div",{staticClass:"btn_wrap",attrs:{"hover-class":"btn_hover"},on:{click:function(e){e=t.$handleEvent(e),t.hideWaitModal(e)}}},[i("span",[t._v("关闭")])])])]):t._e()],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info_title"},[i("span",{staticClass:"circle active"},[t._v("1")]),i("span",{staticStyle:{margin:"0rpx 12rpx 0rpx 10rpx"}},[t._v("服务费用")]),i("span",{staticClass:"line active"}),i("span",{staticClass:"circle active"},[t._v("2")]),i("span",[t._v("交强险")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bottom_info"},[i("span",{staticClass:"star"},[t._v("*")]),i("span",[t._v("交强险与车船税将直接支付给指定保险公司")])])}];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})}}]);